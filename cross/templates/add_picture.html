<script type="text/javascript">

    function add() {
        if(!$("#title").val()){            
            $("#title").css("border-color", "#f90");
            alert("Picture Title 不能为空");
        }else if(!$("#picture").val()) {
            $("#picture").css("border-color", "#f90");
            alert("Picture 不能为空，你要选择一个图片文件");
        }else if(!$("#datetime").val()) {
            $("#datetime").css("border-color", "#f90");
            alert("Datetime 不能为空");
        }else if(!$("#timestr").val()) {
            $("#timestr").css("border-color", "#f90");
            alert("Place 不能为空");
        }else if(!$("#place").val()) {
            $("#place").css("border-color", "#f90");
            alert("Picture Title 不能为空");
        }else {            
            $("#form").submit();
        }
    }

</script>

{% extends "base.html" %}

{% block content %}
  <div class="container-fluid content">

    {% include "nav.html" %}  
    <script type="text/javascript">
      $(document).ready(function () {
        $("#nav_add_picture").attr("class", "active");
      });
    </script>
    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">
	<form id="form" method="post" action="../add_picture/" enctype="multipart/form-data">
          <div class="form-group">
            <label for="title">Picture Title</label>
            <input type="text" class="form-control" id="title" name="title" placeholder="Picture Title">
          </div>        
          <div class="form-group">
            <label for="picture">Picture</label>
            <input type="file" accept="image/*" id="picture" name="picture">
          </div>
          <div class="form-group">
            <label for="datetime">Datetime</label>
            <input type="datetime-local" class="form-control" id="datetime" name="datetime" placeholder="Datetime">
          </div>
          <div class="form-group">          
            <label for="timestr">Time str</label>
            <input type="text" class="form-control" id="timestr" name="time_str" placeholder="Time str">
          </div>
          <div class="form-group">          
            <label for="detail_title">Detail title</label>
            <input type="text" class="form-control" id="detail_title" name="detail_title" placeholder="Detail title">
          </div>         
          <div class="form-group">          
            <label for="place">Place</label>
            <select class="form-control" id="place" name="place">
                {% for place in place_list %}
                  <script type="text/javascript">
                    var option = "<option value='{{place.id}}'>{{place.name}}</option>";
                    $("#place").append(option);
                  </script>
                {% empty %}
                <option value=''>null</option>
                {% endfor %}
            </select>
          </div>
          <div class="form-group">          
            <label for="longitude">Longitude</label>
            <input type="text" class="form-control" id="longitude" name="longitude" placeholder="Longitude">
          </div>
          <div class="form-group">          
            <label for="latitude">Latitude</label>
            <input type="text" class="form-control" id="latitude" name="latitude" placeholder="Latitude">
          </div>          
          <button type="submit" class="btn btn-default" onclick="add()">Submit</button>
        </form>
       {% if result %}
         {{ result }}	
       {% endif %}
      </div>
        
      <div class="col-md-2"></div>
    </div>
  </div>
</div>
<p></p>
{% endblock %}




